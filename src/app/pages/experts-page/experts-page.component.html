<div class="navegacion-up">
  <h3>
    Lista de Expertos
  </h3>
  <span class="derecha">
    <button routerLink='/expertos/crear' routerLinkActive="router-link-active" mat-raised-button color="primary" type="submit">
      <mat-icon>add</mat-icon> Nuevo experto
    </button>
  </span>
</div>



<!-- Tabla de expertos -->
<div class="padding-contenedor-principal">

  <div class="tabla-centrada">
    <table mat-table [dataSource]="expertsList" class="mat-elevation-z8">

      <!-- Nombre del experto -->
      <ng-container matColumnDef="nombre">
        <th mat-header-cell *matHeaderCellDef><br> NOMBRE EXPERTO
          <hr>
          <!-- filtrar por nombre -->
          <mat-form-field appearance="outline">
            <mat-label>Buscar por nombre</mat-label>
            <input matInput (keydown)="filtroNombre(input.value)" placeholder="nombre" #input>
          </mat-form-field>
        </th>
        <td mat-cell *matCellDef="let element">
          <a routerLink='/expertos/{{element.id}}' routerLinkActive="router-link-active"> {{element.nombre}} </a>
        </td>
      </ng-container>

      <!-- Estado -->
      <ng-container matColumnDef="estado">
        <th mat-header-cell *matHeaderCellDef><br> ESTADO
          <hr>
          <!-- filtrar estado -->
          <mat-form-field appearance="outline">
            <select matNativeControl (change)="filtroEstado(input.value)" #input>
              <option value="todos">Todos</option>
              <option value="validado">Validado</option>
              <option value="pendiente">Pendiente</option>
            </select>
          </mat-form-field>
        </th>
        <td mat-cell *matCellDef="let element" [style.color] = "getColorEstado(element.estado)">
          <mat-icon>circle</mat-icon>
          {{element.estado}}
        </td>
      </ng-container>

      <!-- Etiquetas -->
      <ng-container matColumnDef="etiquetas">
        <th mat-header-cell *matHeaderCellDef><br> ETIQUETAS
          <hr>
          <!-- filtrar por etiqueta -->
          <mat-form-field appearance="outline">
            <mat-label>Nombre etiqueta</mat-label>
            <input matInput (keydown.enter)="filtroEtiqueta(input.value)" placeholder="nombre" #input>
          </mat-form-field>
        </th>
        <td mat-cell *matCellDef="let element">
          <span *ngFor="let etiqueta of element.etiquetas">
            <button class="button-tag" (click)="filtroEtiqueta(etiqueta.nombre)">{{etiqueta.nombre}}</button>&nbsp;
          </span>
        </td>
      </ng-container>

      <!-- Valoración -->
      <ng-container matColumnDef="valoracion">
        <th mat-header-cell *matHeaderCellDef><br> VALORACIÓN
          <hr>
          <!-- filtrar por valoración -->
          <mat-form-field appearance="outline">
            <select matNativeControl (change)="filtroValoracion(input.value)" #input>
              <option value="Todos">Todos</option>
              <option value="100">100</option>
              <option value="95">95</option>
              <option value="90">90</option>
              <option value="85">85</option>
              <option value="80">80</option>
              <option value="75">75</option>
              <option value="70">70</option>
              <option value="65">65</option>
              <option value="60">60</option>
              <option value="55">55</option>
              <option value="50">50</option>
              <option value="45">45</option>
              <option value="40">40</option>
              <option value="35">35</option>
              <option value="30">30</option>
              <option value="25">25</option>
              <option value="20">20</option>
              <option value="15">15</option>
              <option value="10">10</option>
              <option value="5">5</option>
              <option value="0">0</option>
            </select>
          </mat-form-field>
          <mat-form-field appearance="fill">
            <mat-label>Valoración</mat-label>
            <mat-select>
              <mat-option *ngFor="let v of valoraciones" [value]="v" (click)="filtroValoracion(v)">
                {{v}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </th>
        <td mat-cell *matCellDef="let element">
          <span class="button-val" [style.background-color] = "getColorValoracion(element.puntuacion)">{{element.puntuacion}}</span>
          </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-header-row *ngFor="let e of expertsList"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</div>
